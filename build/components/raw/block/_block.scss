// Common styling generation
@mixin rh-block-effect-creator($text-color, $text-decoration) {
    @if $text-color {
        color: $text-color;
    }

    @if $text-decoration {
        text-decoration: $text-decoration;
    }
}

@mixin rh-block-effect-hover-active {
    border-top: $block__box--hover-border-top;
    border-right: $block__box--hover-border-right;
    border-left: $block__box--hover-border-left;
    box-shadow: $block__box--hover-box-shadow;
}

@mixin rh-block-effect-tabbing-focus {
    @include rh-block-effect-hover-active;
    box-shadow: $block__box-tabbing--focus-box-shadow;
}

// Component styling
.rh-block {
    /* Positionering */
    //position: relative;

    /* Box-modell/beteende */
    @if $block--width {
        width: $block--width;
    }

    /* Typografi */
    text-align: $block--text-align;

    &-content {
        /* Box-modell/beteende */
        margin-top: 0;
        padding: $block__text-container--padding;
        box-sizing: border-box;

        &__title {

            /* Typografi */
            @if $block__text-title--color {
                color: $block__text-title--color;
            }

            font-weight: $block__text-title--font-weight;
        }

        // The empty class is using for clickable effect
        &__description {}
    }

    img {
        /* Box-modell/beteende */
        width: $block__img--width;
        margin-bottom: $block__img--margin-bottom;
        border-radius: $block__img--border-radius;
    }

    &-box {

        /* Box-modell/beteende */
        @if $block__box--max-width {
            max-width: $block__box--max-width;
        }

        border-top: $block__box--border-top;
        border-right: $block__box--border-right;
        border-bottom: $block__box--border-bottom;
        border-left: $block__box--border-left;
        border-radius: $block__box--border-radius;

        // The component's hove-active-focus behavior can placing here (within this class - box)
    }

    &--clickable {
        /* Positionering */
        position: relative;

        // Common effects for the box
        &:hover,
        &:active {
            @include rh-block-effect-hover-active;
        }

        // Using separate for SASS generating
        &:focus-within {
            @include rh-block-effect-tabbing-focus;
        }

        // The specific effects for content
        &:hover {
            .rh-block-content__title {
                @include rh-block-effect-creator($block__box-clickable__title--text-color-hover, $block__box-clickable__title--text-decoration-hover)
            }

            .rh-block-content__description {
                @include rh-block-effect-creator($block__box-clickable__description--text-color-hover, $block__box-clickable__description--text-decoration-hover);
            }
        }

        &:active {
            .rh-block-content__title {
                @include rh-block-effect-creator($block__box-clickable__title--text-color-active, $block__box-clickable__title--text-decoration-active);
            }

            .rh-block-content__description {
                @include rh-block-effect-creator($block__box-clickable__description--text-color-active, $block__box-clickable__description--text-decoration-active);
            }
        }

        &:focus-within {
            .rh-block-content__title {
                @include rh-block-effect-creator($block__box-clickable__title--text-color-focus, $block__box-clickable__title--text-decoration-focus);
            }

            .rh-block-content__description {
                @include rh-block-effect-creator($block__box-clickable__description--text-color-focus, $block__box-clickable__description--text-decoration-focus);
            }
        }

        &-link {
            /* Positionering */
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;

            /* Box-modell/beteende */
            height: 100%;
            width: 100%;
            outline: none;
        }
    }

    &--focus {
        @include rh-block-effect-tabbing-focus;
    }
}